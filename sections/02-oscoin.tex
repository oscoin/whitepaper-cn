\section{\Oscoin{}网络}
\label{s:oscoin}

\noindent 在本文中，我们将介绍\oscoin{}，这是一种专为解决开源可持续性问题而设计的加密货币。

\Oscoin{} 是一个由参与对一个共享转账账本展开的共识协议的计算机组成的公共网络。该账本可以实物化为全局状态$\state$，包括所有参与协议的开源项目的最简注册表$\registry$，包含所有通证持有者余额的账户集合$\accounts$，网络中实体间相对关系，包括注册项目之间软件依赖关系的网络图$\netgraph$。

这个网络的目的是为\oscoin{}这个数字货币提供保障，同时通过去中心控制和去中介的方式奖励网络中最能创造价值的项目

\subsection{Oscoin区块链}

为了设计一个所有网络参与者共享的安全、开发、无需许可的货币，我们采用Nakamoto \cite{bitcoin}与Wood \cite{ethereum}类似的方案，将\oscoin{}设计为一个区块链协议。

区块链协议通过去中介的资产交易方式解决了大规模信任的问题，同时也实现了抗审查性——此为开放网络的一个本质特性。我们的解决方案中的\oscoin{}这一加密数字货币符合这一特性，它受控于所有的网络参与者而非一个中心权威。我们相信这对\oscoin{}的成功至关重要，而且区块链技术也是能够承载其实现的最具前景的解决方案。

虽然说\oscoin{}具体采用什么共识机制不是核心问题，但我们相信从长远来看，一个最能够让用户开放参与的网络才是最佳选择。进一步说，我们也应让轻客户端的网络参与成为可能，而不是让本应受益于网络的他们因为成为全节点的成本过于高昂就望而却步。现在的区块链协议中有这些特性的一系就是工作量证明机制。当然我们也充分认识到大规模工作量证明对环境的影响，所以随着研究的深入，我们也倾向于切换至更高能效的协议机制。
\footnote{时至今日，正如比特币所展示的那样，工作量证明的区块能在大部分移动设备上被便宜且安全地验证。相反，作为工作量证明协议替代品的权益证明协议依赖于通证持有者的签名，这需要取得账户余额才能进行验证。因此，第三方需要下载区块数据并验证，或者必须重复对账户余额发起请求。这些在受限环境下都不可行。}
\footnote{权益证明协议家族中较有前景的一个候选者是由Filecoin~\cite{filecoin}提出的方法。}

\begin{figure*}[!ht]
    \par\medskip\noindent\minipage{\linewidth}
    \centering
    \input{figures/oscoin.tikz}
    \caption{The \Oscoin{} Treasury System\label{f:treasury}}
    \endminipage\par\medskip
\end{figure*}

\subsection{\Oscoin{}财政系统}
\label{s:treasury}

财政系统（图一\ref{f:treasury}）持续依据网络中项目的重要程度为项目进行排名，并用\oscoin{}进行奖励。这一机制是网络的重要构成部分，作用即是为维护者持续提供参与激励。

\subsubsection{概览}

\begin{itemize}
    \item 系统维护者和代码贡献者在网络 中注册项目并在软件项目开发中协同合作。
    \item 系统维护者合并提交的代码贡献，向账本同步项目状态，包括项目的依赖关系信息和代码贡献元数据 (\S\ref{s:checkpointing})
    \item 基于上条中提到的元数据，每隔$\epoch$个区块系统计算一次\osrank{}。(\S\ref{s:osrank})
    \item 根据\osrank{}的排名进行\oscoin{}奖励，奖励由项目的相关智能合约控制派发。(\S\ref{s:smart-contracts})
    \item 依据项目的智能合约各项系数，奖励由代码贡献者和系统维护者共享。
    \item \oscoin{}的代币奖励量遵循固定的锁仓时间表，只有满足锁仓时间才可由项目自由动用。
\end{itemize}

\medskip

\noindent 每一个区块都将伴随着一定量 $B_r$ 的新\oscoin{}铸造出来，作为“区块奖励”或“币基”。这些新币会由财政系统分配给两个角色：网络运营者 ($\miners$) 和开源项目($\projs$)。

我们必须提到的一个关键问题是有多少比例的$B_r$将会分配给网络中的的单个开源项目。关于此，我们利用了\oscoin{}网络中的网络图来描绘项目与贡献者之间的价值流，并为双方都分配一个权重。这个权重，或称\osrank{}，代表着网络中每一个主体的重要程度。

\subsubsection{算法} 用$t$来代表每k个周期（区块）中待分配给$n$个项目的代币总量。对于每一个给定的项目$P$，$t_P$ 表示在某一周期$\epoch$中\osrank{}函数$\omega(P)$计算出的应分配给项目p的\oscoin{}数量，$t_P$为t和$\omega(P)$的ψ函数，见下：
\[
    \psi(t, \omega(P)) \to t_P.
\]
为了防止小规模的女巫攻击，支付函数将考虑对$\omega(P)$设置一个最小阈值，低于该值的项目将不会受到奖励。。未来可以通过调整ψ扩大或缩小奖励范围，达到均衡目的。

\subsubsection{锁仓} 为了调控激励政策，被用作奖励的那部分\oscoin{}的释放将遵循固定的锁仓时间表。这其实意味着激励发放不是实时，而是延时到账的。这样的设置是为了抑制投机行为，从长远上给\oscoin{}的持有者一个乐观的愿景。如果不做这样的锁仓要求，那么\oscoin{}的流动将全无限制。
\label{s:vesting}

\section*{}

\noindent 宏观上讲，\oscoin{}财政系统可以解决开源变现和可持续性的问题。项目在准许他人免费使用软件的同时，可以得到\oscoin{}作为收入回报。这样的财政系统不需要开源项目为了求生存而转变他们的工作方式，不需要他们再授权或者成立公司。这是与驱动开源项目成功的诉求相吻合的一种新模式。\footnote{见Eric S. Raymond的《大教堂与市集》}
